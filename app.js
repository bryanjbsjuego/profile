// ==================== TRANSLATIONS ====================
const translations = {
    es: {
        "nav.home": "Inicio",
        "nav.about": "Sobre m√≠",
        "nav.experience": "Experiencia",
        "nav.projects": "Proyectos",
        "nav.tech": "Tecnolog√≠as",
        "nav.contact": "Contacto",
        "hero.title": "Desarrollador Full Stack",
        "hero.description": "Especializado en desarrollo backend y frontend, creando soluciones tecnol√≥gicas innovadoras.",
        "hero.contact": "Cont√°ctame",
        "hero.projects": "Ver Proyectos",
        "hero.follow": "S√≠gueme",
        "hero.location": "Nezahualc√≥yotl, M√©xico",
        "hero.available": "Disponible para trabajar",
        "about.title": "Sobre M√≠",
        "about.p1": "Mi perfil va enfocado en el desarrollo full stack, dise√±o e implementaci√≥n de soluciones tecnol√≥gicas innovadoras. Poseo habilidades s√≥lidas en backend y frontend, trabajando con diversas tecnolog√≠as para desarrollar soluciones robustas y funcionales.",
        "about.p2": "Comprometido con la innovaci√≥n y la entrega de soluciones tecnol√≥gicas que optimizan el manejo de datos y mejoran la toma de decisiones de alto impacto.",
        "experience.title": "Experiencia Laboral",
        "experience.infotec.title": "Desarrollador Full Stack Semi Senior",
        "experience.infotec.date": "Marzo 2022 - Presente",
        "experience.infotec.location": "Ciudad de M√©xico",
        "experience.infotec.project1.title": "üí∞ Sistema Administrativo de Pagos SADER",
        "experience.infotec.project1.desc": "Sistema integral en desarrollo para la gesti√≥n y administraci√≥n de pagos y solicitudes de apoyo a beneficiarios de diversos programas de la Secretar√≠a de Agricultura. Desarrollado con Spring Boot, React, JPA, Hibernate y Maven, bajo una arquitectura basada en microservicios.",
        "experience.infotec.project2.title": "üìã Sistema Integral de Almac√©n e Inventario (nivel nacional)",
        "experience.infotec.project2.desc": "Sistema integral a nivel nacional para la gesti√≥n y control de almacenes e inventarios. Desarrollado con Laravel 10 (PHP) en el backend y JavaScript con Bootstrap en el frontend, utilizando colas, APIs y servicios REST con MySQL.",
        "experience.infotec.project3.title": "üìÑ Visor de Recibos de N√≥mina (CFDI)",
        "experience.infotec.project3.desc": "Sistema de consulta y descarga de recibos de n√≥mina (CFDI). Desarrollado con Laravel 10 y Livewire 3, permite la generaci√≥n automatizada de archivos CFDI y la visualizaci√≥n interactiva de recibos.",
        "experience.infotec.project4.title": "üì∞ Plataforma SICRE - Administraci√≥n de Notas Informativas",
        "experience.infotec.project4.desc": "Sistema web a nivel nacional para la gesti√≥n y administraci√≥n de notas. Desarrollado con Laravel 11, Vue.js 3 y Tailwind CSS, implementando una arquitectura moderna y componentes din√°micos para una interfaz eficiente y responsiva.",
        "experience.infotec.project5.title": "üìÅ Sistema de Control Documental (SICOD)",
        "experience.infotec.project5.desc": "Plataforma para la gesti√≥n integral de oficios y documentos, desarrollada con Laravel 12, Vue.js 3 y Tailwind CSS. Incluye comunicaci√≥n en tiempo real mediante WebSocket con Laravel Reverb, gesti√≥n de estado con Pinia, visualizaci√≥n de datos con Chart.js y ejecuci√≥n de tareas programadas para automatizaci√≥n de procesos.",
        "experience.infotec.project6.title": "üé´ Sistema de Tickets y Atenci√≥n a Usuarios",
        "experience.infotec.project6.desc": "Plataforma integral desarrollada con .NET 8, Razor Pages y el patr√≥n MVC. Implementa Entity Framework para el manejo de datos y notificaciones autom√°ticas por correo electr√≥nico y WhatsApp, optimizando la gesti√≥n y seguimiento de solicitudes de soporte.",
        "experience.infotec.project7.title": "üí° Plataforma de Base de Conocimientos",
        "experience.infotec.project7.desc": "Sistema desarrollado con .NET 8, Razor Pages y el patr√≥n MVC, utilizando Entity Framework y el Repository Pattern para el manejo eficiente de datos. Permite la gesti√≥n de preguntas y respuestas, votaciones, reputaci√≥n de usuarios y administraci√≥n de contenido, facilitando el intercambio y la organizaci√≥n del conocimiento institucional.",
        "experience.valvid.title": "Becario en Programaci√≥n Web y M√≥vil",
        "experience.valvid.date": "Sep 2021 - Dic 2021",
        "experience.valvid.location": "Nezahualc√≥yotl, Estado de M√©xico",
        "experience.valvid.project.title": "Proyecto ARROW",
        "experience.valvid.project.desc": "Sistema web multitenancy con Laravel 8 para API REST. Consumo de servicios con Kotlin y Retrofit. Administraci√≥n de obras p√∫blicas con registro de avances, control y generaci√≥n de reportes.",
        "experience.praxis.title": "Becario en Infraestructura - Programador",
        "experience.praxis.date": "Sep 2019 - Dic 2019",
        "experience.praxis.location": "Ciudad de M√©xico",
        "experience.praxis.project.title": "Actualizaci√≥n y Mantenimiento de Sistemas de Inventario TI",
        "experience.praxis.project.desc": "Creaci√≥n del m√≥dulo de administrador para procesos de renta de equipos, nuevas adquisiciones y control de hardware/software.",
        "projects.title": "Proyectos Destacados",
        "projects.inProgress": "En Desarrollo",
        "projects.sader.title": "Sistema Administrativo de Pagos SADER",
        "projects.sader.desc": "Sistema integral para la gesti√≥n y administraci√≥n de pagos de apoyos a beneficiarios de diferentes programas de la Secretar√≠a de Agricultura.",
        "projects.sicod.title": "Sistema de Control Documental",
        "projects.sicod.desc": "Gesti√≥n completa de oficios y documentos oficiales con chat en tiempo real usando websockets.",
        "projects.tickets.title": "Sistema de Tickets",
        "projects.tickets.desc": "Plataforma completa de atenci√≥n a usuarios con notificaciones por correo y WhatsApp.",
        "projects.sicre.title": "Plataforma SICRE",
        "projects.sicre.desc": "Administraci√≥n de notas informativas a nivel nacional con sistema completo de publicaci√≥n y edici√≥n.",
        "projects.inventory.title": "Sistema de Inventario Nacional",
        "projects.inventory.desc": "Gesti√≥n integral de almac√©n e inventario a nivel nacional con APIs REST y sistema de colas.",
        "projects.arrow.title": "Proyecto ARROW",
        "projects.arrow.desc": "Sistema multitenancy para administraci√≥n de obras p√∫blicas con app m√≥vil Android.",
        "tech.title": "Stack Tecnol√≥gico",
        "tech.database": "Bases de Datos & ORM",
        "tech.tools": "Herramientas",
        "tech.patterns": "‚öôÔ∏è Patrones de Dise√±o y Arquitectura Aplicados en Proyectos",
        "tech.patterns.repository": "Abstracci√≥n de datos (incluye Entity Framework)",
        "tech.patterns.service": "L√≥gica de negocio",
        "tech.patterns.micro": "Microservicios",
        "tech.patterns.microDesc": "Arquitectura distribuida",
        "education.title": "Educaci√≥n",
        "education.degree1.title": "Ingeniero en TIC",
        "education.degree1.date": "Abril 2020 - Diciembre 2021",
        "education.degree2.title": "TSU en TIC",
        "education.degree2.date": "Enero 2018 - Diciembre 2019",
        "education.degree3.title": "Profesional T√©cnico-Bachiller",
        "education.degree3.date": "Agosto 2011 - Julio 2014",
        "education.degree3.specialty": "Especialidad: Autotr√≥nica",
        "education.courses.title": "Cursos Especializados",
        "education.courses.course1": "‚úì Desarrollo Web en PHP, MVC, POO y MySQL",
        "education.courses.course2": "‚úì Laravel y Android con JWT y Kotlin",
        "education.courses.course3": "‚úì Sistema con Laravel 11 y Vue 3",
        "education.courses.course4": "‚úì React & Spring Boot Full Stack",
        "contact.title": "¬øListo para trabajar juntos?",
        "contact.subtitle": "Estoy disponible para proyectos freelance o tiempo completo",
        "contact.phone": "Tel√©fono",
        "contact.location": "Ubicaci√≥n",
        "contact.locationValue": "Nezahualc√≥yotl, Estado de M√©xico",
        "contact.availability": "Disponibilidad",
        "contact.availabilityValue": "Disponible para trabajar",
        "contact.form.name": "Nombre",
        "contact.form.subject": "Asunto",
        "contact.form.message": "Mensaje",
        "contact.form.submit": "Enviar Mensaje",
        "contact.form.alert": "¬°Gracias por tu mensaje! Te contactar√© pronto.\n\nNota: Para recibir mensajes reales, integra un servicio como Formspree o EmailJS.",
        "footer.rights": "¬© 2025 Jos√© Bryan Solis Jim√©nez. Todos los derechos reservados."
    },
    en: {
        "nav.home": "Home",
        "nav.about": "About",
        "nav.experience": "Experience",
        "nav.projects": "Projects",
        "nav.tech": "Technologies",
        "nav.contact": "Contact",
        "hero.title": "Full Stack Developer",
        "hero.description": "Specialized in backend and frontend development, creating innovative technological solutions.",
        "hero.contact": "Contact Me",
        "hero.projects": "View Projects",
        "hero.follow": "Follow Me",
        "hero.location": "Nezahualc√≥yotl, Mexico",
        "hero.available": "Available for work",
        "about.title": "About Me",
        "about.p1": "My profile focuses on full stack development, design and implementation of innovative technological solutions. I possess solid skills in backend and frontend, working with various technologies to develop robust and functional solutions.",
        "about.p2": "Committed to innovation and delivering technological solutions that optimize data management and improve high-impact decision making.",
        "experience.title": "Work Experience",
        "experience.infotec.title": "Semi Senior Full Stack Developer",
        "experience.infotec.date": "March 2022 - Present",
        "experience.infotec.location": "Mexico City",
        "experience.infotec.project1.title": "üí∞ SADER Payment Administration System",
        "experience.infotec.project1.desc": "Comprehensive system under development for the management and administration of payments and support requests for beneficiaries of various programs of the Ministry of Agriculture. Developed with Spring Boot, React, JPA, Hibernate and Maven, under a microservices-based architecture.",
        "experience.infotec.project2.title": "üìã Comprehensive Warehouse and Inventory System (national level)",
        "experience.infotec.project2.desc": "Comprehensive national-level system for warehouse and inventory management and control. Developed with Laravel 10 (PHP) on the backend and JavaScript with Bootstrap on the frontend, using queues, APIs and REST services with MySQL.",
        "experience.infotec.project3.title": "üìÑ Payroll Receipt Viewer (CFDI)",
        "experience.infotec.project3.desc": "Payroll receipt (CFDI) query and download system. Developed with Laravel 10 and Livewire 3, it allows automated CFDI file generation and interactive receipt visualization.",
        "experience.infotec.project4.title": "üì∞ SICRE Platform - News Management",
        "experience.infotec.project4.desc": "National-level web system for news management and administration. Developed with Laravel 11, Vue.js 3 and Tailwind CSS, implementing a modern architecture and dynamic components for an efficient and responsive interface.",
        "experience.infotec.project5.title": "üìÅ Document Control System (SICOD)",
        "experience.infotec.project5.desc": "Platform for comprehensive management of official documents, developed with Laravel 12, Vue.js 3 and Tailwind CSS. Includes real-time communication through WebSocket with Laravel Reverb, state management with Pinia, data visualization with Chart.js and scheduled task execution for process automation.",
        "experience.infotec.project6.title": "üé´ Ticketing and User Support System",
        "experience.infotec.project6.desc": "Comprehensive platform developed with .NET 8, Razor Pages and MVC pattern. Implements Entity Framework for data management and automatic notifications via email and WhatsApp, optimizing support request management and tracking.",
        "experience.infotec.project7.title": "üí° Knowledge Base Platform",
        "experience.infotec.project7.desc": "System developed with .NET 8, Razor Pages and MVC pattern, using Entity Framework and Repository Pattern for efficient data management. Allows management of questions and answers, voting, user reputation and content administration, facilitating the exchange and organization of institutional knowledge.",
        "experience.valvid.title": "Web and Mobile Programming Intern",
        "experience.valvid.date": "Sep 2021 - Dec 2021",
        "experience.valvid.location": "Nezahualc√≥yotl, State of Mexico",
        "experience.valvid.project.title": "ARROW Project",
        "experience.valvid.project.desc": "Multitenancy web system with Laravel 8 for REST API. Service consumption with Kotlin and Retrofit. Public works administration with progress registration, control and report generation.",
        "experience.praxis.title": "Infrastructure Intern - Programmer",
        "experience.praxis.date": "Sep 2019 - Dec 2019",
        "experience.praxis.location": "Mexico City",
        "experience.praxis.project.title": "IT Inventory System Update and Maintenance",
        "experience.praxis.project.desc": "Creation of the administrator module for equipment rental processes, new acquisitions and hardware/software control.",
        "projects.title": "Featured Projects",
        "projects.inProgress": "In Development",
        "projects.sader.title": "SADER Payment Administration System",
        "projects.sader.desc": "Comprehensive system for managing and administering support payments to beneficiaries of different Ministry of Agriculture programs.",
        "projects.sicod.title": "Document Control System",
        "projects.sicod.desc": "Complete management of official documents with real-time chat using websockets.",
        "projects.tickets.title": "Ticketing System",
        "projects.tickets.desc": "Complete user support platform with email and WhatsApp notifications.",
        "projects.sicre.title": "SICRE Platform",
        "projects.sicre.desc": "National-level news administration with complete publication and editing system.",
        "projects.inventory.title": "National Inventory System",
        "projects.inventory.desc": "Comprehensive national warehouse and inventory management with REST APIs and queue system.",
        "projects.arrow.title": "ARROW Project",
        "projects.arrow.desc": "Multitenancy system for public works administration with Android mobile app.",
        "tech.title": "Technology Stack",
        "tech.database": "Databases & ORM",
        "tech.tools": "Tools",
        "tech.patterns": "‚öôÔ∏è Design Patterns and Architecture Applied in Projects",
        "tech.patterns.repository": "Data abstraction (includes Entity Framework)",
        "tech.patterns.service": "Business logic",
        "tech.patterns.micro": "Microservices",
        "tech.patterns.microDesc": "Distributed architecture",
        "education.title": "Education",
        "education.degree1.title": "ICT Engineer",
        "education.degree1.date": "April 2020 - December 2021",
        "education.degree2.title": "ICT Associate Degree",
        "education.degree2.date": "January 2018 - December 2019",
        "education.degree3.title": "Professional Technician-High School",
        "education.degree3.date": "August 2011 - July 2014",
        "education.degree3.specialty": "Specialty: Autotronics",
        "education.courses.title": "Specialized Courses",
        "education.courses.course1": "‚úì Web Development in PHP, MVC, OOP and MySQL",
        "education.courses.course2": "‚úì Laravel and Android with JWT and Kotlin",
        "education.courses.course3": "‚úì System with Laravel 11 and Vue 3",
        "education.courses.course4": "‚úì React & Spring Boot Full Stack",
        "contact.title": "Ready to work together?",
        "contact.subtitle": "I'm available for freelance projects or full-time",
        "contact.phone": "Phone",
        "contact.location": "Location",
        "contact.locationValue": "Nezahualc√≥yotl, State of Mexico",
        "contact.availability": "Availability",
        "contact.availabilityValue": "Available for work",
        "contact.form.name": "Name",
        "contact.form.subject": "Subject",
        "contact.form.message": "Message",
        "contact.form.submit": "Send Message",
        "contact.form.alert": "Thank you for your message! I will contact you soon.\n\nNote: To receive real messages, integrate a service like Formspree or EmailJS.",
        "footer.rights": "¬© 2025 Jos√© Bryan Solis Jim√©nez. All rights reserved."
    }
};

let currentLang = 'es';

// ==================== LANGUAGE CHANGE FUNCTION ====================
function changeLanguage(lang) {
    currentLang = lang;
    
    // Update lang attribute
    document.documentElement.lang = lang;
    
    // Update all elements with data-i18n
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // Update language buttons
    document.getElementById('lang-es').classList.toggle('bg-primary', lang === 'es');
    document.getElementById('lang-es').classList.toggle('text-white', lang === 'es');
    document.getElementById('lang-es').classList.toggle('bg-gray-200', lang !== 'es');
    document.getElementById('lang-es').classList.toggle('text-gray-700', lang !== 'es');
    
    document.getElementById('lang-en').classList.toggle('bg-primary', lang === 'en');
    document.getElementById('lang-en').classList.toggle('text-white', lang === 'en');
    document.getElementById('lang-en').classList.toggle('bg-gray-200', lang !== 'en');
    document.getElementById('lang-en').classList.toggle('text-gray-700', lang !== 'en');
    
    // Save preference
    localStorage.setItem('preferredLanguage', lang);
}

// ==================== LOAD SAVED LANGUAGE ====================
window.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('preferredLanguage') || 'es';
    if (savedLang !== 'es') {
        changeLanguage(savedLang);
    }
});

// ==================== MOBILE MENU TOGGLE ====================
const mobileMenuBtn = document.getElementById("mobile-menu-btn");
const mobileMenu = document.getElementById("mobile-menu");

mobileMenuBtn.addEventListener("click", () => {
  mobileMenu.classList.toggle("hidden");
});

// ==================== CLOSE MOBILE MENU ====================
document.querySelectorAll("#mobile-menu a").forEach((link) => {
  link.addEventListener("click", () => {
    mobileMenu.classList.add("hidden");
  });
});

// ==================== SMOOTH SCROLL ====================
document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
  anchor.addEventListener("click", function (e) {
    e.preventDefault();
    const target = document.querySelector(this.getAttribute("href"));
    if (target) {
      target.scrollIntoView({ behavior: "smooth", block: "start" });
    }
  });
});

// ==================== FORM SUBMISSION ====================
function handleSubmit(e) {
  e.preventDefault();
  
  // Get translated alert message
  const alertMessage = translations[currentLang]["contact.form.alert"];
  alert(alertMessage);
  
  e.target.reset();
}

// ==================== SCROLL ANIMATIONS ====================
const observerOptions = {
  threshold: 0.1,
  rootMargin: "0px 0px -100px 0px",
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      entry.target.style.opacity = "1";
      entry.target.style.transform = "translateY(0)";
    }
  });
}, observerOptions);

document.querySelectorAll("section").forEach((section) => {
  section.style.opacity = "0";
  section.style.transform = "translateY(20px)";
  section.style.transition = "opacity 0.6s ease, transform 0.6s ease";
  observer.observe(section);
});

// ==================== SCROLL TO TOP BUTTON ====================
const scrollToTopBtn = document.getElementById("scrollToTop");

window.addEventListener("scroll", () => {
  if (window.pageYOffset > 300) {
    scrollToTopBtn.classList.remove("opacity-0", "invisible");
    scrollToTopBtn.classList.add("opacity-100", "visible");
  } else {
    scrollToTopBtn.classList.add("opacity-0", "invisible");
    scrollToTopBtn.classList.remove("opacity-100", "visible");
  }
});

scrollToTopBtn.addEventListener("click", () => {
  window.scrollTo({
    top: 0,
    behavior: "smooth",
  });
});